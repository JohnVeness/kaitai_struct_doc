= Kaitai Struct: JavaScript notes
:source-highlighter: coderay

== Quick start
 
=== Node.js
 
Create an empty directory and install the https://www.npmjs.com/package/kaitai-struct[runtime from npm] by running: 
 
```bash
npm i kaitai-struct 
``` 
 
Copy your compiled .ksy parser (eg. `Elf.js`) or download a http://formats.kaitai.io/[parser from the format gallery] (eg. http://formats.kaitai.io/elf/javascript.html[Elf.js]) to this directory. 
 
Create `index.js` with the following content: 
 
```javascript 
const fs = require("fs"); 
const Elf = require("./Elf"); 
const KaitaiStream = require('kaitai-struct/KaitaiStream'); 
 
const fileContent = fs.readFileSync("/bin/ls"); 
const parsedElf = new Elf(new KaitaiStream(fileContent)); 
console.log(parsedElf); 
``` 
 
Test the code by running `node index.js`. 

== Approximate 64-bit integers

Current JavaScript specification lacks direct access to anything like
int64 type. Instead, accessing long integers would automatically
represent them internally as double-precision IEEE754 floats, potentially
losing least significant bits. It should be ok for smaller integers (up
to 53 significant bits), but note that JavaScript would use approximate
values for everything beyond that.
